# Fiddler Everywhere
[официальный источник](https://docs.telerik.com/fiddler-everywhere/user-guide/settings/https)

#### настройка для браузеров ПК
1. Установить программу Fiddler Everywhere
2. В разделе Live Traffic переключатель Paused переключить в Capturing при помощи переключателя.
3. В настройках (шестеренка):
- HTTPS - необходимо установить корневой сертификат, что бы ключить захват и расшифровку HTTPS - трафика.   
	- Кликнуть по *Trust root certificate* - устанавливает и доверяет корневому сертификату, или кликнуть *Export root certificate* - сертификает появится на рабочем столе, кликнув 2 раза по сертификату начнется установка.     
	- Поставить флажок: Capture HTTPS traffic - захват https-трафика.  
	- Не устанавливать флажок при работе в интернете из-за возможной угрозы безопасности спуфинга. *Ignore server certificate errors (unsafe)* - игнорировать ошибка сертификата сервера.  
- Connections - представлены параметры, позволяющие детально управлять настройками прокси-сервера и удаленным подключением.  
	- Поставить флажок: *Act as system proxy on startup* - действовать как системный прокси при запуске, Allow remote computers to connect - перехватывать трафик с удаленных устройств.  
- Gateway - шлюз, параметры для настройки доступа
	- Поставить флажок: *Use system proxy (recommended)* - использовать системный прокси
- Privacy - конфиденциальность, рассылка писем от Progress и его партнеров, а также запросить удаление связанной с Fiddler Everywhere учетной записи.
- Composer - предоставляет возможность настройки поведения составленных запросов, которые возвращает 3xx(перенаправленный) код состояния.
- Rules - настройк поведения запросов, не соотвествующих активным правилам
- Browser - предоставляет возможность изменить предварительно настроенный браузер по умолчанию
	- *Automatically defect path to Google Chrome* - автоматически определяет путь к Google Chrome.  
	- *Path to Browser* - позволяет изменить браузер по умолчанию, указав путь к другому браузеру.

**Отключить прокси:**
- *Параметры ПК > Сеть и интернет > Прокси сервер > Отключить настройки прокси вручную*
			
#### настройка для мобильного устройства Android
[инструкция из официального источника](https://docs.telerik.com/fiddler-everywhere/traffic/configure-android)
1. Установить программу Fiddler Everywhere
2. В разделе Live Traffic переключатель Paused переключить в Capturing при помощи переключателя.
3. В настройках (шестеренка), установить корневой сертификат: *HTTPS > Trust root certificate*
3. В настройках (шестеренка), включить удаленные подключения: *Connections > Allow remote computers to connect* 
4. Запоминаем IP - адрес хост - компьютера. *Командная строка > Ввести <code>ipconfig</code> в Windows (<code>ifconfig</code> в Linux)*
6. **В телефоне:** *Свойства сети > Название сети Wi-fi сети > Прокси > Вручную* заполнить:

     - Имя хоста: Ввести IP-фдрес главного компьютера (пункт 4)
     - Порт: порт (по умолчанию 8866)
5. Перейти на сайт [ http://ipv4.fiddler:8866]( http://ipv4.fiddler:8866) в мобильном браузере, для скачивания корневого сертификата
6. Устанавливаем сертификат.


**Отключить прокси:**
- ПК: *Параметры ПК > Сеть и интернет > Прокси сервер > Отключить настройки прокси вручную*
- Мобильное устройство: *Свойства сети > Название сети Wi-fi сети > Прокси > Отключить*

#### настройка для мобильного устройства IOS
[инструкция из официального источника](https://docs.telerik.com/fiddler-everywhere/traffic/configure-ios)
1. Установить программу Fiddler Everywhere
2. В разделе Live Traffic переключатель Paused переключить в Capturing при помощи переключателя.
3. В настройках (шестеренка), установить корневой сертификат: *HTTPS > Trust root certificate*
3. В настройках (шестеренка), включить удаленные подключения: *Connections > Allow remote computers to connect* 
4. Запоминаем IP - адрес хост - компьютера. *Командная строка > Ввести <code>ipconfig</code> в Windows (<code>ifconfig</code> в Linux)*
6. **В телефоне:** *Свойства сети > Название сети Wi-fi сети > Настройка прокси > Вручную* заполнить:

     - Имя хоста:  Ввести IP-фдрес главного компьютера (пункт 4)
     - Порт: порт (по умолчанию 8866)
5. Перейти на сайт [ http://ipv4.fiddler:8866]( http://ipv4.fiddler:8866) в мобильном браузере, для скачивания корневого сертификата
6. Устанавливаем сертификат:

     - перейти *Настройки > Профиль загружен > Установить*

     - перейти *Настройки >  Основные > Об этом устройстве > Доверие сертификатам > Найти сертификат Charles Proxy и включить доверие*


**Отключить прокси:**
- ПК: *Параметры ПК > Сеть и интернет > Прокси сервер > Отключить настройки прокси вручную*
- Мобильное устройство: *Настройки >  Основные > Об этом устройстве > Доверие сертификатам > Найти сертификат Charles Proxy и отключить доверие*
- Мобильное устройство: *Свойства сети > Название сети Wi-fi сети > Настройки прокси > Выключить*

# Просмотр установленных цифровых сертификатов
[Цифровые сертификаты](https://hd01.ru/info/kak-posmotret-ustanovlennye-sertifikaty-windows-10/)  

#### Windows
Cертификаты для оборудования, сгенерированными Microsoft и другими разработчиками для правильного функционирования компьютера:
1. Нажать сочетание клавиш <code>Win + R</code>
2. Ввести в поле "открыть": <code>certlm.msc</code>  

Сертификаты текущего пользователя:  
1. Нажать сочетание клавиш <code>Win + R</code>
2. Ввести в поле "открыть": <code>certmgr.msc</code>

#### Android
1. *Настройки телефона > Безопасность > Сертификаты*


# Работа в Fiddler Everywhere
#### Обзор окна
1. Live Traffic - отображается сводка по каждому захваченному сеансу. 
2. Inspectors - отображаются разделы Response и Request,  вкоторых можно отображаются сведения о запросе и ответе для сеансов HTTP(S), выбранных из списка Live Traffic.
3. Owerview - представлены параметры для получения структурированной информации и статических данных для захваченных сеансов.
	- Timings - обеспечивает визуальное представление времени, необходимого для выполнения одного сеанса или выбора нескольких сеансов.
	- Sizes - обеспечивает визуальное представление размера одного сеанса или выбора нескольких сеансов.
	- Statistics - содержит таблицу со структурированной информацией для нескольких выбранных сеансов. Виджет доступен только при выборе нескольких сеансов (свернут и неактивен для выбора одного сеанса).
	- Reqest Detalis
	- Response Detalis
4. Sessions - позволяет сохранять, изменять, проверять, шифровать и делиться ранее захваченным трафиком.
5. Rules -  позволяет создавать правила, которые будут автоматически срабатывать в ответ на запросы. [подробнее](https://docs.telerik.com/fiddler-everywhere/user-guide/rules)
6. Composer -  позволяет вручную создать новый запрос HTTP или HTTPS с нуля и отредактировать сущесвующий захваченный запрос, а также отправить и протестировать их. [подробнее](https://docs.telerik.com/fiddler-everywhere/user-guide/composer)
7. Request - позволяет упорядочивать и изменять существующие запросы, перечисленные в нем.
8. Connections - расположен в правом нижнем углу Fiddler Everywhere и содержит информацию о состоянии подключения и конфигурации сети. 
	- Network - показывает состояние сети, обеспечивающей подключение к Интернету.
	- Host - выводит имя хоста компьютера, на котором работает Fiddler Everywhere.
	- Список активных сетевых адаптеров на компьютере, на котором размещен Fiddler Everywhere. Каждая запись указана по своим адресам IPv6 и IPv4.

#### Rules

![Условия построителя правил](https://docs.telerik.com/fiddler-everywhere/images/livetraffic/rb/rules-re-conditions.png)

###### Adding New Rules

1. Нажать кнопку **Add New Rule** на главной панели инструментов
2. Добавить имя для правила в текстовое поле **Rule Name** 
3. Задать правило **When**
   - **all these conditions**  - правило применяется, когда все условия истинны (логическое ИСТИНА). 
   - **any of these conditions** - правило применяется, когда выполняются какие-либо условия (логическое ИЛИ). 
   - **none of these conditions** - правило применяется, когда ни одно из условий не истинно (логическая ЛОЖЬ). 
4. Добавить одно или несколько условий conditions
5. Добавить одно или несколько действий actions
6. Нажать кнопку **Save** чтобы закрыть окно **Rule Editor**
7. Добавить созданное правило в очередь **Rules Queue**

###### Conditions [подробнее](https://docs.telerik.com/fiddler-everywhere/user-guide/rules#conditions)

Конструктор правил может добавлять и использовать одно или несколько условий , необходимых для запуска различных действий. 

Условия представляют собой  логические структуры с различными операторами, количество которых может  варьироваться *от двух до четырех.* 

- Protocol - разделитьтрафик на основе используемого протокола (HTTP и HTTPS). 
- Host - найти определенное ключевое слово в Host столбце 
- Status - найти определенное ключевое слово в Status столбце 
- Method - найти определенное ключевое слово в Method столбце 
- Process ID - найти определенное ключевое слово в Process ID столбце 
- Client IP - найти определенное ключевое слово в Client IP столбце 
- Remote IP - найти определенное ключевое слово в Remote IP столбце 
- Body Size - найти определенное значение в Body Size столбце 
- Duration - найти определенное значение в Duration столбце 
- Comment - найти определенное ключевое слово в Comment столбце 
- Request Body - найти определенное ключевое слово в Request Body столбце 
- Request Header - найти определенное ключевое слово в явно упомянутом Request Header столбце заголовка запроса. 
- Response Body - найти определенное ключевое слово в Response Body . 
- Response Header - найти определенное ключевое слово в явно упомянутом Request Header столбце заголовка ответа. 
- Cookie - найти конкретное ключевое слово в явно упомянутом файле cookie . 
- Magic String - использует устаревшие строковые литералы и регулярные выражения Fiddler Classic . 

###### Actions [подробнее](https://docs.telerik.com/fiddler-everywhere/user-guide/rules#actions)

После идентификации запрос соответствующий условиям правила, Fiddler автоматически сопоставляет его с действием, заданным в правиле.

- Mark Session - отмечает сеанс выбранными цветами. 
- Update Request Header - использует выбранный модификатор значения и новое значение для обновления заголовка запроса. 
- Update Response Header - использует выбранный модификатор значения и новое значение для обновления заголовка ответа. 
- Update Request Body - использует выбранный модификатор значения и новое значение для обновления тела запроса. 
- Update Response Body - использует выбранный модификатор значения и новое значение для обновления тела ответа. 
- Update URL - использует модификатор выбранного значения и новое значение для обновления текущего URL-адреса. 
- Update Query Params - использует выбранный модификатор значения и новое значение для обновления параметров запроса. 
- Update Request Cookies -  использует выбранный модификатор значения и новое значение для обновления значения файла cookie. 
- Update Response Cookies - использует выбранный модификатор значения и новое значение для обновления значения файла cookie. 
- Predefined Response - возвращает выбранный предопределенный ответ.
- Manual Response - возвращает созданный вручную ответ. 
- Response File - возвращает выбранный файл ответов. 
- Do Not Capture - при применении действия « Не захватывать» никакие другие действия выполняться не будут. 
- Delay Request - задерживает выполнение запроса на «n» миллисекунд. 
- Graceful Close - это действие корректно закроет соединение.
- Non Graceful Close - это действие принудительно закроет соединение. 
- Magic String - использует устаревшие строковые литералы и регулярные выражения Fiddler Classic. 
- Comment - действие по изменению, добавлению или удалению комментария сеанса 





