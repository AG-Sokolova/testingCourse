# Charles Proxy
[Как приручить Charles Proxy?](https://habr.com/ru/company/youla/blog/527648/)  
[Цифровые сертификаты](https://hd01.ru/info/kak-posmotret-ustanovlennye-sertifikaty-windows-10/)  

#### настройка для Firefox Mozilla
1. Установить приложение Charles Proxy
2. Запустить Charles Proxy
3. Поставить галочку *Proxy > Windows (IOS) Proxy*
4. Установить сертификат *Help > SSL Proxying > Install Charles Root Certificate > Установить сертификат > Помещаем в "Доверенные корневые центры сертификации" (для текущего и локального пользователя)*. Должно появиться уведомление об успешном импорте сертификата.
5. Запомнить IP адрес ПК *Help > Local IP Address*
6. Открыть настройки браузера
7. На вкладке Основные перейти в раздел *Параметры сети* и кликнуть *Настроить*
8. В окне выбрать *Ручная настройка прокси*. Ввести:
  - HTTP/HTTPS прокси: IP адрес ПК
  - SSL прокси: IP адрес ПК
  - Порт: 8888
9. Перейти на сайт [chils.pro/ssl](chils.pro/ssl). 
  - если все верно настроено, то появится автоматическое скачивание сертификата
  - в этот момент появится входящее соединение, необходимо кликнуть *allow*.
10. Скаченный сертификат поместить *Настройки > Приватность и защита > Просмотр сертификатов > Импортировать скаченный файл*
11. В Charles Proxy перейти "Proxy > SSL Proxying Settings":
  - поставить галочку *Enable SSL Proxying*
  - в Include добавить: host <code>*.*</code>, host <code>*</code>, host <code>[]</code>

**Отключить прокси:**
- *Настройки браузера > Основные > Параметры сети > Настроить > Выбрать "без прокси"*
- *Параметры ПК > Сеть и интернет > Прокси сервер > Отключить настройки прокси вручную*

#### настройка для Chrome
1. Установить приложение Charles Proxy
2. Запустить Charles Proxy
3. Поставить галочку *Proxy > Windows (IOS) Proxy*
4. Установить сертификат *Help > SSL Proxying > Install Charles Root Certificate > Установить сертификат > Помещаем в "Доверенные корневые центры сертификации" (для текущего и локального пользователя)*. Должно появиться уведомление об успешном импорте сертификата.
5. Запомнить IP адрес ПК *Help > Local IP Address*
6. Открыть настройки браузера
7. *Настройки > Дополнительные настройки > Система > Открыть настройки прокси сервера для компьютера*
8. В окне включить *Настройки прокси сервера вручную*
9. Перейти на сайт [chils.pro/ssl](chils.pro/ssl). 
  - если все верно настроено, то появится автоматическое скачивание сертификата
  - в этот момент появится входящее соединение, необходимо кликнуть *allow*.
10. Скаченный сертификат поместить *Настройки > Безопасность и конфиденциальность > Безопасность > Настроить сертификаты > Импортировать скаченный сертификат в раздел "Доверенные корневые центры сертификации"*
11. В Charles Proxy перейти "Proxy > SSL Proxying Settings":
  - поставить галочку *Enable SSL Proxying*
  - в Include добавить: host <code>*.*</code>, host <code>*</code>, host <code>[]</code>

**Отключить прокси:**
- *Параметры ПК > Сеть и интернет > Прокси сервер > Отключить настройки прокси вручную*

#### настройка для мобильного устройства Android
1. Установить приложение Charles Proxy
2. Запустить Charles Proxy
3. Поставить галочку *Proxy > Windows (IOS) Proxy*
4. Установить сертификат *Help > SSL Proxying > Install Charles Root Certificate > Установить сертификат > Помещаем в "Доверенные корневые центры сертификации" (для текущего и локального пользователя)*. Должно появиться уведомление об успешном импорте сертификата.
5. Перейти "Proxy > SSL Proxying Settings":
  - поставить галочку *Enable SSL Proxying*
  - в Include добавить: host <code>*.*</code>, host <code>*</code>, host <code>[]</code>
6. Запомнить Имя узла прокси и Порт: *Help > SSL proxying > Install Charles Root Certificate on a Mobile Device or Remote Browser*
7. **В телефоне:** *Свойства сети > Название сети Wi-fi сети > Прокси > Вручную* заполнить:
  - Имя хоста: имя узла прокси
  - Порт: порт
8. Перейти на сайт [chils.pro/ssl](chils.pro/ssl). 
  - если все верно настроено, то появится автоматическое скачивание сертификата
  - в этот момент появится входящее соединение, необходимо кликнуть *allow*.
9. Устанавливаем сертификат

**Отключить прокси:**
- *Параметры ПК > Сеть и интернет > Прокси сервер > Отключить настройки прокси вручную*
- *Свойства сети > Название сети Wi-fi сети > Прокси > Отключить*

#### настройка для мобильного устройства IOS
1. Установить приложение Charles Proxy
2. Запустить Charles Proxy
3. Поставить галочку *Proxy > Windows (IOS) Proxy*
4. Установить сертификат *Help > SSL Proxying > Install Charles Root Certificate > Установить сертификат > Помещаем в "Доверенные корневые центры сертификации" (для текущего и локального пользователя)*. Должно появиться уведомление об успешном импорте сертификата.
5. Перейти "Proxy > SSL Proxying Settings":
  - поставить галочку *Enable SSL Proxying*
  - в Include добавить: host <code>*.*</code>, host <code>*</code>, host <code>[]</code>
6. Запомнить Имя узла прокси и Порт: *Help > SSL proxying > Install Charles Root Certificate on a Mobile Device or Remote Browser*
7. **В телефоне:** *Свойства сети > Название сети Wi-fi сети > Настройка прокси > Вручную* заполнить:
  - Имя хоста: имя узла прокси
  - Порт: порт
8. Перейти на сайт [chils.pro/ssl](chils.pro/ssl) или [charlesproxy.com/getssl](charlesproxy.com/getssl) 
  - если все верно настроено, то появится автоматическое скачивание сертификата
  - в этот момент появится входящее соединение, необходимо кликнуть *allow*.
9. Устанавливаем сертификат:
  - перейти *Настройки > Профиль загружен > Установить*
  - перейти *Настройки >  Основные > Об этом устройстве > Доверие сертификатам > Найти сертификат Charles Proxy и включить доверие*

**Отключить прокси:**
- *Параметры ПК > Сеть и интернет > Прокси сервер > Отключить настройки прокси вручную*
- *Настройки >  Основные > Об этом устройстве > Доверие сертификатам > Найти сертификат Charles Proxy и отключить доверие*
- *Свойства сети > Название сети Wi-fi сети > Настройки прокси > Выключить*

# Просмотр установленных цифровых сертификатов
#### Windows
Cертификаты для оборудования, сгенерированными Microsoft и другими разработчиками для правильного функционирования компьютера:
1. Нажать сочетание клавиш <code>Win + R</code>
2. Ввести в поле "открыть": <code>certlm.msc</code>
Сертификаты текущего пользователя:
1. Нажать сочетание клавиш <code>Win + R</code>
2. Ввести в поле "открыть": <code>certmgr.msc</code>

#### Android
1. *Настройки телефона > Безопасность > Сертификаты*
